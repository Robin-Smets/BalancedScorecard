<MainFrame>:
    rows: 2
    cols: 1

    MDBoxLayout:
        id: header_box
        orientation: 'horizontal'
        size_hint_x: 1
        size_hint_y: None
        height: 50
        md_bg_color: app.theme_cls.primary_color

        MDIconButton:
            id: sales_nav_button
            icon: 'account'
            size_hint_x: None
            size_hint_y: None
            height: 50
            width: 50
            on_press: root.open_login_dialog()

        MDLabel:
            id: purchasing_nav_button
            text: 'Balanced Scorecard: Random Tech Ltd.'
            size_hint_x: 1
            size_hint_y: None
            height: 50
            halign: "center"

        MDIconButton:
            id: exit_button
            icon: 'dots-vertical'
            size_hint_x: None
            size_hint_y: None
            height: 50
            width: 50
            on_press: root.exit()

    MDBoxLayout:
        id: content_box
        orientation: 'horizontal'


        MDBoxLayout:
            size_hint_x: 0.5
            size_hint_y: 1
            pos_hint: {'center_y': 0.5}
            padding: dp(20)

            MDCard:
                id: control_card
                style: 'elevated'

                MDBoxLayout:
                    orientation: "vertical"

                    MDLabel:
                        id: control_dashboard_label
                        text: 'Dashboard'
                        padding: [20, 0]
                        size_hint_y: None
                        height: 50

                    MDBoxLayout:
                        height: 15
                        size_hint_y: None

                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 40
                        padding: dp(10)


                        MDFillRoundFlatIconButton:
                            id: perspective_combobox_button
                            on_press: app.menu.open()
                            text: "Financial Perspective"
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                        MDBoxLayout:
                            size_hint_x: 0.1

                        MDFillRoundFlatIconButton:
                            id: open_dashboard_button
                            on_press: app.open_dashboard()
                            text: "Open Dashboard"
                            icon: "chart-bar"
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                    MDBoxLayout:
                        height: 25
                        size_hint_y: None


                    MDLabel:
                        id: control_data_store_label
                        text: 'Data Store'
                        padding: [20, 0]
                        size_hint_y: None
                        height: 50

                    MDBoxLayout:
                        height: 15
                        size_hint_y: None

                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 40
                        padding: dp(10)

                        MDFillRoundFlatIconButton:
                            id: from_date_button
                            on_press: root.open_date_picker('from')
                            text: "From"
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                        MDBoxLayout:
                            size_hint_x: 0.1

                        MDFillRoundFlatIconButton:
                            id: update_data_store_button
                            on_press: app.update_data_store()
                            text: "Update Data Store"
                            icon: 'database-refresh'
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                    MDBoxLayout:
                        height: 5
                        size_hint_y: None

                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 40
                        padding: dp(10)

                        MDFillRoundFlatIconButton:
                            id: until_date_button
                            on_press: root.open_date_picker('until')
                            text: "Until"
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                        MDBoxLayout:
                            size_hint_x: 0.1

                        MDFillRoundFlatIconButton:
                            id: clear_data_store_button
                            on_press: app.clear_data_store()
                            text: "Clear Data Store"
                            icon: 'delete'
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                    MDBoxLayout:
                        height: 25
                        size_hint_y: None

                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 50

                        MDLabel:
                            id: control_crypto_key_label
                            text: 'Crypto Key'
                            pos_hint: {"center_x": .5, "center_y": .5}
                            padding: [20, 0]
                            size_hint_y: None
                            height: 50
                            size_hint_x: 0.5

                        MDTextField:
                            id: crypto_key_text_field
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.46

                        MDBoxLayout:
                            size_hint_x: 0.04

                    MDBoxLayout:
                        height: 15
                        size_hint_y: None

                    MDBoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: 40
                        padding: dp(10)

                        MDFillRoundFlatIconButton:
                            id: encrypt_data_store_button
                            on_press: app.encrypt_data_store()
                            text: "Encrypt Data Store"
                            icon: "lock"
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                        MDBoxLayout:
                            size_hint_x: 0.1

                        MDFillRoundFlatIconButton:
                            id: open_dashboard_button
                            on_press: app.encrypt_data_store()
                            text: "Open Dashboard"
                            icon: "lock-open-variant"
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint_x: 0.45

                    MDBoxLayout:
                        size_hint_y: 0.5

        MDBoxLayout:
            id: console_box
            size_hint_x: 0.5
            size_hint_y: 1
            pos_hint: {'center_y': 0.5}
            padding: dp(20)

            MDCard:
                id: console_card
                style: 'elevated'

                ScrollView:
                    id: console_scroll_view
                    size_hint_x: 1
                    size_hint_y: 1

                    MDLabel:
                        id: console_text_field
                        text: ""
                        size_hint_x: 1
                        size_hint_y: None
                        height: self.texture_size[1]
                        text_size: self.width, None  # Begrenze den Text auf die Breite
                        halign: 'left'  # Linksbündige Ausrichtung
                        padding: 10, 10  # Füge etwas Abstand zum Rand hinzu
